import{_ as n,M as r,p as c,q as i,R as e,t as a,N as o,a1 as s}from"./framework-f3fd2962.js";const d={},l=s(`<h1 id="记录一次用-git-解决问题的经历" tabindex="-1"><a class="header-anchor" href="#记录一次用-git-解决问题的经历" aria-hidden="true">#</a> 记录一次用 git 解决问题的经历</h1><h2 id="找回未-commit-记录" tabindex="-1"><a class="header-anchor" href="#找回未-commit-记录" aria-hidden="true">#</a> 找回未 commit 记录</h2><p>原因：在切换分支前没有 执行<code>git stash</code> 暂存未提交记录</p><p>未 commit 的修改记录会暂时保存在.git/object 下 <code>find .git/objects -type f | xargs ls -lt | sed 3q</code> 找到记录后执行 git show xxx 确认文件内容是否是自己丢失的文件</p><h2 id="定位出问题的提交" tabindex="-1"><a class="header-anchor" href="#定位出问题的提交" aria-hidden="true">#</a> 定位出问题的提交</h2><p>新建本地分支来处理问题,以免影响正常代码 <code>git branch [branch-name]</code> 切换分支 <code>git checkout [branch-name]</code> 因为<code>git log</code>会先输出最近的提交记录 想往下看会很麻烦</p><p>查看某个时间段内的提交<code>git log --since --until</code> 查看某个文件的修改<code>git log filename</code></p><div class="language-git line-numbers-mode" data-ext="git"><pre class="language-git"><code><span class="token comment"># 自定义 git log 输出</span>
git log --graph --pretty=format:<span class="token string">&quot;%C(yellow)%h%x09%Creset%C(cyan)%C(bold)%ad%Creset %cn %C(green)%Creset %s&quot;</span> --date=short
git log --graph --pretty=format:<span class="token string">&#39;%C(auto)%h%d (%cr) %cn %s&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>定位到出问题的提交前后 将 head 定位到指定提交 <code>git reset --hard [commit-id]</code> 比对两次提交 <code>git diff [commit-id]</code></p><p>还原分支 输出更详细的 log 包括 set head 操作 <code>git reflog</code> set head 到原来的提交节点上</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2>`,11),h={href:"https://blog.csdn.net/blink_cao/article/details/128707589",target:"_blank",rel:"noopener noreferrer"},g={href:"https://worktile.com/kb/ask/20275.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://qastack.cn/programming/14243380/how-to-configure-git-log-to-show-commit-date",target:"_blank",rel:"noopener noreferrer"};function p(_,f){const t=r("ExternalLinkIcon");return c(),i("div",null,[l,e("p",null,[e("a",h,[a("找回未 commit 记录"),o(t)]),e("a",g,[a("大部分常用命令"),o(t)]),e("a",m,[a("自定义输出 git log"),o(t)])])])}const b=n(d,[["render",p],["__file","解决问题.html.vue"]]);export{b as default};
